import{B as _,a as x,P as I,G as T,L as v,b as w,R as C,S as k,T as b,C as H,c,d as M,e as q,V as d,t as E,r as s,f as L,w as p,o as j,g as a,h as D}from"./vendor.0aaa853b.js";const G=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function l(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerpolicy&&(i.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?i.credentials="include":e.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(e){if(e.ep)return;e.ep=!0;const i=l(e);fetch(e.href,i)}};G();var S=(t,n)=>{for(const[l,r]of n)t[l]=r;return t};const V={components:{BasicMaterial:_,Box:x,Camera:I,Group:T,LiquidPlane:v,PlaneC:w,Renderer:C,Scene:k,Texture:b},setup(){const t=new H;t.setPath("https://threejs.org/examples/textures/cube/Park2/");const n=t.load(["posx.jpg","negx.jpg","posy.jpg","negy.jpg","posz.jpg","negz.jpg"]);return{WIDTH:20,HEIGHT:20,cubeTexture:n}},data(){return{isPlaying:!0,materialProps:{color:16777215,metalness:.2,roughness:0,thickness:4,transmission:1,displacementScale:20,envMap:this.cubeTexture,envMapIntensity:1},textureProps:{repeat:{x:2,y:2},wrapS:c,wrapT:c}}},mounted(){this.pointer=this.$refs.renderer.three.pointer,this.liquidEffect=this.$refs.liquid.liquidEffect,this.raycaster=new M,this.pointerPlane=new q(new d(0,1,0),0),this.pointerV3=new d,document.body.addEventListener("keyup",this.onKeyup),this.pane=new E.exports.Pane,this.pane.addInput(this.materialProps,"metalness",{step:.05,min:0,max:1}),this.pane.addInput(this.materialProps,"roughness",{step:.05,min:0,max:1}),this.pane.addInput(this.materialProps,"thickness",{step:.05,min:0,max:10}),this.pane.addInput(this.materialProps,"transmission",{step:.05,min:0,max:1}),this.pane.addInput(this.materialProps,"displacementScale",{step:.5,min:.5,max:50}),this.pane.addInput(this.materialProps,"envMapIntensity",{step:.05,min:0,max:1}),this.pane.addInput(this.materialProps,"color",{view:"color"}),this.pane.addButton({title:"Pause/Play"}).on("click",()=>{this.togglePlay()})},unmounted(){this.pane.dispose()},methods:{togglePlay(){this.isPlaying=!this.isPlaying,this.$refs.liquid.togglePlay()},onKeyup(t){if(t.keyCode===32)this.togglePlay();else if(t.keyCode===82&&this.isPlaying)for(let n=0;n<20;n++)this.liquidEffect.addDrop(Math.random()*2-1,Math.random()*2-1,.01,.025)},onClick(){if(this.isPlaying){const t=2*this.pointerV3.x/this.WIDTH,n=2*-this.pointerV3.z/this.HEIGHT;this.liquidEffect.addDrop(t,n,.025,.05)}},onPointerMove(){if(this.isPlaying){this.raycaster.setFromCamera(this.pointer.positionN,this.$refs.renderer.three.camera),this.raycaster.ray.intersectPlane(this.pointerPlane,this.pointerV3);const t=2*this.pointerV3.x/this.WIDTH,n=2*-this.pointerV3.z/this.HEIGHT;this.liquidEffect.addDrop(t,n,.025,.002)}}}};function B(t,n,l,r,e,i){const o=s("Camera"),u=s("LiquidPlane"),h=s("Texture"),m=s("BasicMaterial"),f=s("PlaneC"),g=s("Group"),y=s("Scene"),P=s("Renderer");return j(),L(P,{ref:"renderer",antialias:"",pointer:{onMove:i.onPointerMove},resize:"","orbit-ctrl":{enableDamping:!0},onClick:i.onClick},{default:p(()=>[a(o,{position:{x:0,y:20,z:0}}),a(y,{ref:"scene",background:r.cubeTexture},{default:p(()=>[a(g,{rotation:{x:-Math.PI/2}},{default:p(()=>[a(u,{ref:"liquid",rotation:{x:0},width:r.WIDTH,height:r.HEIGHT,"material-props":e.materialProps},null,8,["width","height","material-props"]),a(f,{position:{x:0,y:0,z:-2},width:r.WIDTH,height:r.HEIGHT},{default:p(()=>[a(m,null,{default:p(()=>[a(h,{src:"/assets/tiles/Tiles107_1K_Color.jpg",props:{repeat:{x:1.5,y:1.5},wrapS:t.RepeatWrapping,wrapT:t.RepeatWrapping}},null,8,["props"])]),_:1})]),_:1},8,["width","height"])]),_:1},8,["rotation"])]),_:1},8,["background"])]),_:1},8,["pointer","onClick"])}var R=S(V,[["render",B]]);D(R).mount("#app");
